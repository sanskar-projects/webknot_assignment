<html>
<body>
<script>
var data={}
var i;
var correct_answer="";
var a=[];

const fetchData=async()=>
{
i=0;
n=5;

const response=await fetch(`https://opentdb.com/api.php?amount=5&type=multiple`);
const _data= await response.json();
data={};
data=Object.assign({},data,_data);
display();
}

function display()
{
if(i<=n-1)
{
document.getElementById("q").innerHTML=(i+1)+") "+data.results[i].question;

correct_answer=data.results[i].correct_answer;

a=[];
a.push(data.results[i].correct_answer);
a.push(data.results[i].incorrect_answers[0]);
a.push(data.results[i].incorrect_answers[1]);
a.push(data.results[i].incorrect_answers[2]);
a=a.sort(()=>Math.random()-0.5);
document.getElementById("o1").innerHTML=a[0];
document.getElementById("r1").value=a[0];
document.getElementById("o2").innerHTML=a[1];
document.getElementById("r2").value=a[1];
document.getElementById("o3").innerHTML=a[2];
document.getElementById("r3").value=a[2];
document.getElementById("o4").innerHTML=a[3];
document.getElementById("r4").value=a[3];

}
}

function next()
{
i+=1;
document.getElementById("r1").checked=false;
document.getElementById("r2").checked=false;
document.getElementById("r3").checked=false;
document.getElementById("r4").checked=false;
display();
}

function check()
{
input="";

var r1=document.getElementById("r1");
var r2=document.getElementById("r2");
var r3=document.getElementById("r3");
var r4=document.getElementById("r4");

if(r1.checked==true){input=r1.value;}
if(r2.checked==true){input=r2.value;}
if(r3.checked==true){input=r3.value;}
if(r4.checked==true){input=r4.value;}

document.getElementById("output").innerHTML="";
if(input==correct_answer)
{
document.getElementById("output").innerHTML="correct";
}
if(input!=correct_answer&&input!="")
{
document.getElementById("output").innerHTML="incorrect";
}


}

</script>
<span id="q"></span><br>

<span id="o1"></span><br>
<input type="radio" id="r1" name="r"><br>
<span id="o2"></span><br>
<input type="radio" id="r2" name="r"><br>
<span id="o3"></span><br>
<input type="radio" id="r3" name="r"><br>
<span id="o4"></span><br>
<input type="radio" id="r4" name="r"><br>

<button onclick="fetchData();">click</button>
<button onclick="check();"submit</button>
<button onclick="next();">next</button><br>

<span id="output"></span>
</body>
</html>
