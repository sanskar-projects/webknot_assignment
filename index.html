<html>
<body>
<script>
var data={}
var i;
var correct_answer="";
var a=[];
o1=document.getElementById("o1");
o2=document.getElementById("o2");
o3=document.getElementById("o3");
o4=document.getElementById("o4");

const fetchData=async()=>
{
i=0;
n=5;

const response=await fetch(`https://opentdb.com/api.php?amount=5&type=multiple`);
const _data= await response.json();
data={};
data=Object.assign({},data,_data);
display();
}

function display()
{
if(i<=n-1)
{
document.getElementById("q").innerHTML=(i+1)+") "+data.results[i].question;

correct_answer=data.results[i].correct_answer;

a=[];
a.push(data.results[i].correct_answer);
a.push(data.results[i].incorrect_answers[0]);
a.push(data.results[i].incorrect_answers[1]);
a.push(data.results[i].incorrect_answers[2]);
a=a.sort(()=>Math.random()-0.5);
document.getElementById("o1").innerHTML=a[0];
document.getElementById("r1").value=a[0];
document.getElementById("o2").innerHTML=a[1];
document.getElementById("r2").value=a[1];
document.getElementById("o3").innerHTML=a[2];
document.getElementById("r3").value=a[2];
document.getElementById("o4").innerHTML=a[3];
document.getElementById("r4").value=a[3];




}
}

function next()
{
i+=1;
display();
}

function check(x)
{
input="";

if(x==1){input=o1.value;}
if(x==2){input=o2.value;}
if(x==3){input=o3.value;}
if(x==4){input=o4.value;}

if(input==correct_answer)
{
document.getElementById("output").innerHTML="correct";
}
else
{
document.getElementById("output").innerHTML="incorrect";
}
}

</script>
<span id="q"></span><br>

<span id="o1"></span><br>
<input type="radio" id="r1" name="r" onclick="check(1);"><br>
<span id="o2"></span><br>
<input type="radio" id="r2" name="r" onclick="check(2);"><br>
<span id="o3"></span><br>
<input type="radio" id="r3" name="r" onclick="check(3);"><br>
<span id="o4"></span><br>
<input type="radio" id="r4" name="r" onclick="check(4);"><br>

<button onclick="fetchData();">click</button>
<button onclick="next();">next</button><br>

<span id="output"></span>
</body>
</html>
